!function(e){function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}var t={};o.m=e,o.c=t,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s=15)}({1:function(e,o){},13:function(e,o,t){e.exports=t.p+"./img/login_logo.jpg"},15:function(e,o,t){t(1),t(13),window.onload=function(){function e(e){return window.confirm(e)}function o(){"login-submit login-waiting"==n.className?(n.className="login-submit",n.setAttribute("value","登录")):(n.className="login-submit login-waiting",n.setAttribute("value","登录中..."))}function t(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){var t=JSON.parse(n.responseText);switch(t.code){case-3:console.log("已登录"),window.location.pathname="./home.html";break;case-2:case-1:e("您的输入有误,请检查后重新输入~"),console.log("输入或请求有误--"+t.code+t.msg),o();break;case 0:e("您输入的姓名或学号有误,请重新输入~"),console.log("姓名与学号不对应--"+t.code+t.msg),o();break;case 1:console.log("登录成功"),window.location.pathname="./home.html";break;default:e("A1:出错啦~请稍后登录呗~"),console.log("遇到未知错误--"+t.code+t.msg),o()}}else e("A2:出错啦~请稍后登录呗~"),console.log("There was a problem with the request--status code:"+n.status),location.reload()},n.onerror=function(o){e("A3:出错啦~请稍后登录呗~"),console.log(o),location.reload()},n.open("POST","http://api.lib.b612.me/easy.php",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t)}var n=document.querySelector("#login-btn");n.addEventListener("touchend",function(n){n.preventDefault(),n.stopPropagation(),o();var a=document.querySelector("#sno").value.trim(),r=document.querySelector("#sname").value.trim();if(/^\d{10}$/.test(a)&&/^[a-zA-Z\u4e00-\u9fa5]+$/.test(r)){console.log("check ok");var s="uid="+a+"&name="+r+"&cmd=login";"6"==a[3]||"5"==a[3]||"4"==a[3]||"3"==a[3]?t(s):(e("抱歉，本纪念册仅向在读本科生开放。"),o())}else e("您输入的姓名或学号格式有误,请检查后重新输入~"),o()})}}});