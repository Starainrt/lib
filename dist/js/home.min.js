!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=4)}([function(e,n){},,function(e,n,t){e.exports=t.p+"./font/zhanku.ttf"},,function(e,n,t){function o(e){return document.querySelector(e)}t(0),t(2);var a={init:function(){this.initPage(),this.loadImg(),this.userData(),this.music()},initPage:function(){var e=this;e.setPageSize();new Swiper(".swiper-container",{speed:400,direction:"vertical",pagination:".swiper-pagination",onSlideChangeStart:function(n){n.activeIndex,n.slides.length,e.convertArray(document.querySelectorAll(".font-abc")).forEach(function(e){e.style.display="none"}),n.slides[n.activeIndex].querySelector(".font-abc")&&(n.slides[n.activeIndex].querySelector(".font-abc").style.display="block"),n.activeIndex,n.activeIndex,5==n.activeIndex&&e.convertArray(document.querySelectorAll(".xuexiao4 img")).forEach(function(e){e.style.display="block"}),5!=n.activeIndex&&e.convertArray(document.querySelectorAll(".xuexiao4 img")).forEach(function(e){e.style.display="none"})}})},setPageSize:function(){var e=this,n=document.documentElement.clientWidth,t=document.documentElement.clientHeight,o=document.querySelectorAll(".swiper-content");e.convertArray(o).forEach(function(e){e.style.width="750px",e.style.height="1334px",e.style.position="absolute",e.style.top="50%",e.style.left="50%";var o=n/750,a=t/1334;e.style.transformOrigin="0 0",e.style.transform="scale("+o+","+a+")translate(-50%, -50%)"})},loadImg:function(){for(var e=["bg1_welcome.png","bg2_firsttime.png","bg3_firstbook.png","bg4_total.png","bg6_interest.png","bg7_lastbook.png","bg8_final.png"],n=window.location.origin,t=o(".loading-content"),a=o(".progress"),r=o(".swiper-pagination-bullets"),i=0,s=e.length,c=0;c<s;c++){var l=new Image;l.src=n+"/img/"+e[c],l.onload=function(){i++,a.innerHTML=Math.floor(i/s*100)+"%",i==s&&(t.style.display="none",r.style.display="block")},l.onerror=function(){console.log("Failed to load the image"),t.style.display="none",r.style.display="block"}}},userData:function(){var e=this;e.ajax("POST","cmd=getinfo","./easy.php",function(t){switch(console.log(t),t.code){case 0:e.showModal("未能获取到信息，请返回重新登录。"),console.log("获取失败(未登录等原因)"+t.code+t.msg);break;case 1:console.log("获取信息成功"),n(t.msg);break;default:e.showModal("B1:出错啦~请稍后登录呗~"),console.log("遇到未知错误--"+t.code+t.msg)}});var n=function(e){t(e)},t=function(e){var n=function(e){var n=e.split("-");return"<span>"+n[0]+"</span>年<span>"+n[1]+"</span>月<span>"+n[2]+"</span>日"};o(".data1").innerHTML=e.name,o(".data2").innerHTML=n(e.entertime),o(".data3").innerHTML=n(e.firstbooktime),o(".data4").innerHTML=e.gap,o(".data5").innerHTML="《"+e.firstbook+"》",o(".data6").innerHTML=e.grade,o(".data7").innerHTML=e.bookcount,o(".data8").innerHTML=Math.round(100*+e.rankingrade)+"%",o(".data9").innerHTML=function(e){return e>=80?"“工大学霸”":e>=30?"“热情读者”":'"最具潜力读者"'}(e.bookcount),o(".data10").innerHTML=function(e){for(var n=e.length,t=Math.ceil(n/10),o=1;o<=t;o++)for(;n>0;)n--;new Swiper(".borrowlist-container",{direction:"horizontal",slidesPerView:"auto",centeredSlides:!0,spaceBetween:15})}(e.books),o(".data11").innerHTML=e.favorite.split(",")[0],o(".data12").innerHTML=e.bookcount,o(".data13").innerHTML=e.favorite.split(",")[1],o(".data14").innerHTML=function(e){var n=e.split("-");return"在<span>"+n[0]+"</span>年的<span>"+n[1]+"</span>月<span>"+n[2]+"</span>日"}(e.lastbooktime),o(".data15").innerHTML="《"+e.lastbook+"》"}},music:function(){},convertArray:function(e){return Array.prototype.slice.call(e,0)},showModal:function(e){return window.alert(e)},ajax:function(e,n,t,o){var a=this,e=e||"GET",n=n||null,t=t||"",r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(r.status>=200&&r.status<300||304==r.status){var e=JSON.parse(r.responseText);o&&o(e)}else a.showModal("A2:出错啦~请稍后登录呗~"),console.log("There was a problem with the request--status code:"+r.status),location.reload()},r.onerror=function(e){a.showModal("A3:出错啦~请稍后登录呗~"),console.log(e),location.reload()},r.open(e,t,!0),"POST"==e&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(n)}};document.addEventListener("DOMContentLoaded",function(e){a.init()})}]);